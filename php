CREATE TABLE preparateur (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(255) NOT NULL, mdp VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE basket (id INT AUTO_INCREMENT NOT NULL, client_id INT DEFAULT NULL, price INT NOT NULL, delivry VARCHAR(255) NOT NULL, UNIQUE INDEX UNIQ_2246507B19EB6921 (client_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE admin (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(255) NOT NULL, mdp VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE article (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(255) NOT NULL, description LONGTEXT NOT NULL, price INT NOT NULL, img VARCHAR(255) NOT NULL, marque VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE article_categories (article_id INT NOT NULL, categorie_id INT NOT NULL, INDEX IDX_62A97E97294869C (article_id), INDEX IDX_62A97E9BCF5E72D (categorie_id), PRIMARY KEY(article_id, categorie_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE article_basket (article_id INT NOT NULL, basket_id INT NOT NULL, INDEX IDX_4881C7FB7294869C (article_id), INDEX IDX_4881C7FB1BE1FB52 (basket_id), PRIMARY KEY(article_id, basket_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE location (id INT AUTO_INCREMENT NOT NULL, clients_id INT DEFAULT NULL, adress VARCHAR(255) NOT NULL, city VARCHAR(255) NOT NULL, codePostale INT NOT NULL, tel INT NOT NULL, INDEX IDX_5E9E89CBAB014612 (clients_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE commande (id INT AUTO_INCREMENT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE commande_preparateur (commande_id INT NOT NULL, preparateur_id INT NOT NULL, INDEX IDX_1D37706582EA2E54 (commande_id), INDEX IDX_1D3770657A841FC5 (preparateur_id), PRIMARY KEY(commande_id, preparateur_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE commande_client (commande_id INT NOT NULL, client_id INT NOT NULL, INDEX IDX_C510FF8082EA2E54 (commande_id), INDEX IDX_C510FF8019EB6921 (client_id), PRIMARY KEY(commande_id, client_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE client (id INT AUTO_INCREMENT NOT NULL, basket_id INT DEFAULT NULL, name VARCHAR(255) NOT NULL, mdp VARCHAR(255) NOT NULL, lastname VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL, birthdate DATETIME NOT NULL, sex TINYINT(1) NOT NULL, UNIQUE INDEX UNIQ_C74404551BE1FB52 (basket_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE categorie (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
ALTER TABLE basket ADD CONSTRAINT FK_2246507B19EB6921 FOREIGN KEY (client_id) REFERENCES client (id);
ALTER TABLE article_categories ADD CONSTRAINT FK_62A97E97294869C FOREIGN KEY (article_id) REFERENCES article (id) ON DELETE CASCADE;
ALTER TABLE article_categories ADD CONSTRAINT FK_62A97E9BCF5E72D FOREIGN KEY (categorie_id) REFERENCES categorie (id) ON DELETE CASCADE;
ALTER TABLE article_basket ADD CONSTRAINT FK_4881C7FB7294869C FOREIGN KEY (article_id) REFERENCES article (id) ON DELETE CASCADE;
ALTER TABLE article_basket ADD CONSTRAINT FK_4881C7FB1BE1FB52 FOREIGN KEY (basket_id) REFERENCES basket (id) ON DELETE CASCADE;
ALTER TABLE location ADD CONSTRAINT FK_5E9E89CBAB014612 FOREIGN KEY (clients_id) REFERENCES client (id);
ALTER TABLE commande_preparateur ADD CONSTRAINT FK_1D37706582EA2E54 FOREIGN KEY (commande_id) REFERENCES commande (id) ON DELETE CASCADE;
ALTER TABLE commande_preparateur ADD CONSTRAINT FK_1D3770657A841FC5 FOREIGN KEY (preparateur_id) REFERENCES preparateur (id) ON DELETE CASCADE;
ALTER TABLE commande_client ADD CONSTRAINT FK_C510FF8082EA2E54 FOREIGN KEY (commande_id) REFERENCES commande (id) ON DELETE CASCADE;
ALTER TABLE commande_client ADD CONSTRAINT FK_C510FF8019EB6921 FOREIGN KEY (client_id) REFERENCES client (id) ON DELETE CASCADE;
ALTER TABLE client ADD CONSTRAINT FK_C74404551BE1FB52 FOREIGN KEY (basket_id) REFERENCES basket (id);
